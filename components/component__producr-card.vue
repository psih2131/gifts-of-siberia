<template>
    <div class="product-card" v-if="productData">
        <div class="product-card__wrapper">
            <div class="product-card__top">

                <NuxtLink class="product-card__img-wrapper" :to="`/products/product/${productData.slug}`">
                    <div class="product-card__ingridients" v-if="productData?.acf?.spisok_izobrazhenij_soderzhimogo">

                        <div class="product-card__ingridient" v-for="item in productData.acf.spisok_izobrazhenij_soderzhimogo" :key="item">
                            <img v-for="image in item.izobrazhenie" :key="image"
                            :src="image.img.url" 
                            class="product-card__ingridient-img" :alt="image.img.alt">
                        </div>

                    </div>

                    <img v-if="productData?.acf?.izobrazhenie_kartochki_tovara" 
                    :src="productData.acf.izobrazhenie_kartochki_tovara.url" 
                    :alt="productData.acf.izobrazhenie_kartochki_tovara.alt" 
                    class="product-card__main-img">

                    <img v-else src="@/assets/images/img/default-image.jpg" alt="" class="product-card__main-img">

                </NuxtLink>

                <p class="product-card__title">
                    <NuxtLink class="product-card__title-link" :to="`/products/product/${productData.slug}`">
                        <span v-html="productData.title.rendered"></span>
                    </NuxtLink>
                </p>

                <ul class="product-card__list">
                    <li class="product-card__table-row" v-for="item in productData.acf.spisok_izobrazhenij_soderzhimogo" :key="item">
                        <p class="product-card__table-row-name">{{ item.nazvanie_sostava }}</p>
                        <p class="product-card__table-row-value">{{ item.kolichestvo }}</p>
                    </li>
                </ul>
            </div>
            <div class="product-card__down">
                <button class="product-card__btn-request">
                    Заявка на опт
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 14.75H2C1.59 14.75 1.25 14.41 1.25 14V7.62C1.25 7.29999 1.44999 7.01997 1.73999 6.90997C2.03999 6.79997 2.37001 6.89001 2.57001 7.13C3.18001 7.86 4.13001 8.26999 5.07001 8.23999C5.87001 8.21999 6.60998 7.92001 7.16998 7.39001C7.42998 7.17001 7.63999 6.91 7.79999 6.62C8.10999 6.09 8.26 5.50998 8.25 4.91998C8.23 3.99998 7.83002 3.15999 7.15002 2.54999C6.91002 2.33999 6.83 2.00997 6.94 1.71997C7.05 1.42997 7.33001 1.22998 7.64001 1.22998H15C15.41 1.22998 15.75 1.56998 15.75 1.97998V11.98C15.75 13.52 14.52 14.75 13 14.75ZM2.75 13.25H13C13.69 13.25 14.25 12.69 14.25 12V2.75H9.19C9.54 3.4 9.73 4.13001 9.75 4.89001C9.77 5.76001 9.54998 6.62 9.10999 7.37C8.86999 7.79999 8.53999 8.21001 8.17999 8.51001C7.37999 9.27001 6.27999 9.72 5.10999 9.75C4.27999 9.78 3.46001 9.57 2.76001 9.19V13.25H2.75Z" fill="white"/>
                    <path d="M19 20.75H18C17.59 20.75 17.25 20.41 17.25 20C17.25 19.31 16.69 18.75 16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.41 14.41 20.75 14 20.75H10C9.59 20.75 9.25 20.41 9.25 20C9.25 19.31 8.69 18.75 8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.41 6.41 20.75 6 20.75H5C2.93 20.75 1.25 19.07 1.25 17V14C1.25 13.59 1.59 13.25 2 13.25H13C13.69 13.25 14.25 12.69 14.25 12V5C14.25 4.59 14.59 4.25 15 4.25H16.84C17.83 4.25 18.74 4.78001 19.23 5.64001L20.94 8.63C21.07 8.86 21.07 9.15 20.94 9.38C20.81 9.61 20.56 9.75 20.29 9.75H19C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H22C22.41 13.25 22.75 13.59 22.75 14V17C22.75 19.07 21.07 20.75 19 20.75ZM18.65 19.25H19C20.24 19.25 21.25 18.24 21.25 17V14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.03 8.25 19 8.25L17.93 6.38C17.71 5.99 17.29 5.75 16.84 5.75H15.75V12C15.75 13.52 14.52 14.75 13 14.75H2.75V17C2.75 18.24 3.76 19.25 5 19.25H5.34998C5.67998 18.1 6.74 17.25 8 17.25C9.26 17.25 10.32 18.1 10.65 19.25H13.36C13.69 18.1 14.75 17.25 16.01 17.25C17.27 17.25 18.32 18.1 18.65 19.25Z" fill="white"/>
                    <path d="M8 22.75C6.48 22.75 5.25 21.52 5.25 20C5.25 18.48 6.48 17.25 8 17.25C9.52 17.25 10.75 18.48 10.75 20C10.75 21.52 9.52 22.75 8 22.75ZM8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.69 7.31 21.25 8 21.25C8.69 21.25 9.25 20.69 9.25 20C9.25 19.31 8.69 18.75 8 18.75Z" fill="white"/>
                    <path d="M16 22.75C14.48 22.75 13.25 21.52 13.25 20C13.25 18.48 14.48 17.25 16 17.25C17.52 17.25 18.75 18.48 18.75 20C18.75 21.52 17.52 22.75 16 22.75ZM16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.69 15.31 21.25 16 21.25C16.69 21.25 17.25 20.69 17.25 20C17.25 19.31 16.69 18.75 16 18.75Z" fill="white"/>
                    <path d="M22 14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.04 8.25 19 8.25H20.29C20.56 8.25 20.81 8.39 20.94 8.63L22.65 11.63C22.71 11.74 22.75 11.87 22.75 12V14C22.75 14.41 22.41 14.75 22 14.75ZM19 9.75C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H21.25V12.2L19.85 9.75H19Z" fill="white"/>
                    <path d="M5 9.75C2.38 9.75 0.25 7.62 0.25 5C0.25 3.54 0.900029 2.18998 2.03003 1.28998C2.87003 0.619978 3.93 0.25 5 0.25C7.62 0.25 9.75 2.38 9.75 5C9.75 6.36 9.16 7.66 8.13 8.56C7.26 9.33 6.15 9.75 5 9.75ZM5 1.75C4.26 1.75 3.55997 1.99997 2.96997 2.46997C2.19997 3.07997 1.75 4.01 1.75 5C1.75 6.79 3.21 8.25 5 8.25C5.78 8.25 6.54002 7.96 7.15002 7.44C7.85002 6.82 8.25 5.94 8.25 5C8.25 3.21 6.79 1.75 5 1.75Z" fill="white"/>
                    <path d="M3.99989 6.75C3.74989 6.75 3.49988 6.62001 3.35988 6.39001C3.14988 6.03001 3.25989 5.56999 3.61989 5.35999L4.5099 4.83002V3.75C4.5099 3.34 4.8499 3 5.2599 3C5.6699 3 6.0099 3.34 6.0099 3.75V5.25C6.0099 5.51 5.86992 5.76001 5.64992 5.89001L4.39992 6.64001C4.25992 6.72001 4.12989 6.75 3.99989 6.75Z" fill="white"/>
                    </svg>
                </button>


                <NuxtLink class="product-card__btn-more-info" :to="`/products/product/${productData.slug}`">
                    Подробнее
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.9998 22.08C11.6998 22.08 11.3998 22.01 11.1498 21.87C9.27978 20.85 5.99976 19.77 3.93976 19.5L3.64978 19.46C2.33978 19.3 1.25977 18.07 1.25977 16.74V4.65999C1.25977 3.86999 1.56977 3.15002 2.13977 2.63002C2.70977 2.11002 3.44974 1.86001 4.22974 1.93001C6.41974 2.11001 9.73975 3.21002 11.6198 4.38002L11.8597 4.52003C11.9297 4.55003 12.0798 4.56003 12.1398 4.52003L12.2997 4.42C12.9697 4 13.8097 3.58999 14.7297 3.21999C14.9597 3.12999 15.2197 3.16 15.4297 3.3C15.6397 3.44 15.7598 3.67 15.7598 3.92V6.59999L16.5898 6.05C16.8398 5.88 17.1697 5.88 17.4197 6.05L18.2498 6.59999V2.78004C18.2498 2.42004 18.5097 2.10999 18.8597 2.03999C19.1497 1.98999 19.4398 1.95001 19.6998 1.93001C19.7198 1.93001 19.7998 1.93001 19.8198 1.93001C20.5498 1.87001 21.2997 2.12003 21.8597 2.64003C22.4297 3.16003 22.7397 3.88 22.7397 4.67V16.74C22.7397 18.08 21.6598 19.3 20.3398 19.46L20.0098 19.5C17.9498 19.77 14.6498 20.86 12.8198 21.87C12.5998 22.01 12.2998 22.08 11.9998 22.08ZM3.97974 3.40999C3.65974 3.40999 3.36977 3.51999 3.13977 3.73C2.88977 3.96 2.74976 4.28999 2.74976 4.65999V16.74C2.74976 17.33 3.25977 17.9 3.82977 17.98L4.12976 18.02C6.37976 18.32 9.82977 19.45 11.8298 20.55C11.9198 20.59 12.0497 20.6 12.0997 20.58C14.1097 19.47 17.5698 18.33 19.8298 18.03L20.1697 17.99C20.7397 17.92 21.2498 17.34 21.2498 16.75V4.68001C21.2498 4.31001 21.1097 3.99001 20.8597 3.75001C20.6097 3.52001 20.2598 3.41001 19.8998 3.43001C19.8698 3.43001 19.7798 3.43001 19.7598 3.43001V8.00001C19.7598 8.28001 19.6097 8.52999 19.3597 8.65999C19.1097 8.78999 18.8198 8.78001 18.5898 8.62001L17.0098 7.57002L15.4297 8.62001C15.1997 8.77001 14.9097 8.78999 14.6597 8.65999C14.4197 8.52999 14.2598 8.28001 14.2598 8.00001V5.07002C13.8298 5.28002 13.4397 5.49002 13.0997 5.69002L12.9398 5.78999C12.3898 6.12999 11.6098 6.13 11.0798 5.8L10.8398 5.65004C9.14978 4.59004 6.06974 3.56999 4.10974 3.40999C4.05974 3.40999 4.01974 3.40999 3.97974 3.40999Z" fill="#1B3762"/>
                    <path d="M12 21.24C11.59 21.24 11.25 20.9 11.25 20.49V5.48999C11.25 5.07999 11.59 4.73999 12 4.73999C12.41 4.73999 12.75 5.07999 12.75 5.48999V20.49C12.75 20.91 12.41 21.24 12 21.24Z" fill="#1B3762"/>
                    <path d="M19 8.74999C18.85 8.74999 18.71 8.70998 18.58 8.61998L17 7.57L15.42 8.61998C15.19 8.76998 14.9 8.78996 14.65 8.65996C14.41 8.52996 14.25 8.27999 14.25 7.99999V3.91997C14.25 3.60997 14.44 3.33996 14.72 3.21996C16.1 2.66996 17.61 2.23997 18.88 2.03997C19.1 1.99997 19.32 2.07001 19.49 2.21001C19.66 2.35001 19.75 2.56002 19.75 2.78002V7.99999C19.75 8.27999 19.6 8.52996 19.35 8.65996C19.24 8.71996 19.12 8.74999 19 8.74999ZM17 5.91997C17.14 5.91997 17.29 5.95998 17.42 6.04998L18.25 6.59996V3.68999C17.45 3.86999 16.58 4.12999 15.75 4.43999V6.59996L16.58 6.04998C16.71 5.95998 16.86 5.91997 17 5.91997Z" fill="#1B3762"/>
                    </svg>
                </NuxtLink>

                <a v-if="productData.acf.ssylka_na_wildberries" :href="productData.acf.ssylka_na_wildberries" target="_blank" class="product-card__btn-market">
                    <img src="@/assets/images/img/btm-wb-card.png" alt="" class="product-card__btn-market-img">
                    <!-- <img src="@/assets/images/img/ozon-mob-btn.png" alt="" class="product-card__btn-market-img-mob"> -->
                </a>

                <a v-if="productData.acf.ssylka_na_ozon" :href="productData.acf.ssylka_na_ozon" target="_blank" class="product-card__btn-market">
                    <img src="@/assets/images/img/btm-ozon-card.png" alt="" class="product-card__btn-market-img">
                    <!-- <img src="@/assets/images/img/ozon-mob-btn.png" alt="" class="product-card__btn-market-img-mob"> -->
                </a>
            </div>
        </div>
        
    </div>
</template>

<script setup>
    // import { useCounterStore } from '@/stores/counter'
    import { ref, onMounted, onBeforeUnmount, computed, watch  } from 'vue';
    // import component__user_panel from '@/components/user-panel.vue'


    // props
    const props = defineProps({
        productData: Object,
        catList: Object
    })


</script>